import{j as e,r as p,Q as I}from"./vendor-DgUtky3n.js";function ae({entityColor:a,entityName:n,passType:l,header:t,journey:d,actionRequired:f,children:h,tabs:o,activeTab:c,onTabChange:b}){return n?.includes("Agriculture"),e.jsxs("div",{className:"h-screen bg-gradient-to-br from-slate-100 via-slate-50 to-slate-100 flex items-center justify-center p-2 sm:p-4 overflow-hidden",children:[e.jsx("div",{className:"w-full max-w-md",style:{height:"calc(100vh - 32px)",maxHeight:"700px"},children:e.jsxs("div",{className:"bg-gradient-to-br from-white via-white to-slate-50 border border-white/80 rounded-2xl sm:rounded-3xl overflow-hidden flex flex-col h-full transition-all duration-500 hover:-translate-y-0.5",style:{boxShadow:`0 25px 60px -15px rgba(0,0,0,0.15), 0 10px 30px -10px ${a}20, 0 -2px 6px rgba(255,255,255,0.8) inset`},children:[t,e.jsxs("div",{className:"flex-1 overflow-y-auto px-4 sm:px-5 pb-2 scrollbar-thin scrollbar-thumb-slate-200 scrollbar-track-transparent",children:[d,f,h]}),e.jsxs("div",{className:"relative border-t border-slate-100 px-2 py-2 sm:py-2.5 flex-shrink-0 bg-white/95 backdrop-blur-sm shadow-[0_-4px_20px_rgba(0,0,0,0.06)]",children:[e.jsx("div",{className:"absolute top-0 h-0.5 rounded-full transition-all duration-300 ease-out",style:{backgroundColor:a,width:`${100/o.length-8}%`,left:`calc(${o.findIndex(x=>x.id===c)*(100/o.length)}% + 4%)`,boxShadow:`0 0 8px ${a}60`}}),e.jsx("div",{className:"flex",children:o.map(x=>{const m=c===x.id;return e.jsxs("button",{onClick:()=>b(x.id),className:`flex-1 py-1.5 flex flex-col items-center gap-1 relative transition-all duration-300 ${m?"":"text-slate-400 hover:text-slate-600"}`,style:m?{color:a}:void 0,children:[e.jsx("div",{className:`p-1.5 sm:p-2 rounded-xl transition-all duration-300 ${m?"scale-105":"hover:scale-105"}`,style:m?{backgroundColor:`${a}12`,boxShadow:`0 4px 12px ${a}20`}:void 0,children:e.jsx("svg",{className:"w-4 h-4 sm:w-5 sm:h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:m?2.5:1.5,children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:x.icon})})}),e.jsx("span",{className:`text-[8px] sm:text-[9px] transition-all ${m?"font-bold":"font-medium"}`,children:x.label})]},x.id)})})]}),n&&e.jsxs("div",{className:"px-4 py-2.5 text-center flex-shrink-0 border-t border-slate-100/50 relative overflow-hidden",style:{backgroundColor:`${a}06`},children:[e.jsx("div",{className:"absolute inset-0 opacity-[0.03]",style:{backgroundImage:n.includes("Agriculture")?`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M30 0c8.284 0 15 6.716 15 15 0 8.284-6.716 15-15 15-8.284 0-15-6.716-15-15C15 6.716 21.716 0 30 0zm0 45c8.284 0 15 6.716 15 15H15c0-8.284 6.716-15 15-15z' fill='%2300bf63' fill-opacity='1' fill-rule='evenodd'/%3E%3C/svg%3E")`:`url("data:image/svg+xml,%3Csvg width='52' height='26' viewBox='0 0 52 26' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M10 10c0-2.21-1.79-4-4-4-3.314 0-6-2.686-6-6h2c0 2.21 1.79 4 4 4 3.314 0 6 2.686 6 6 0 2.21 1.79 4 4 4 3.314 0 6 2.686 6 6 0 2.21 1.79 4 4 4v2c-3.314 0-6-2.686-6-6 0-2.21-1.79-4-4-4-3.314 0-6-2.686-6-6zm25.464-1.95l8.486 8.486-1.414 1.414-8.486-8.486 1.414-1.414z' fill='%2300B0F0' fill-opacity='1' fill-rule='evenodd'/%3E%3C/svg%3E")`}}),e.jsxs("span",{className:"text-[10px] text-slate-500 font-medium relative z-10",children:["Recruitment: ",e.jsx("span",{style:{color:a},className:"font-semibold",children:n})]})]})]})}),e.jsx("style",{children:`
        @keyframes shimmer {
          0%, 100% { transform: translateX(-100%); }
          50% { transform: translateX(100%); }
        }
        @keyframes pulse-ring {
          0% { transform: scale(1); opacity: 1; }
          100% { transform: scale(1.5); opacity: 0; }
        }
      `})]})}const S={agriculture:{primaryColor:"#00bf63",secondaryColor:"#00994f",headerBgColor:"#00bf63",pattern:"agriculture",label:"Agriculture Division"},water:{primaryColor:"#00B0F0",secondaryColor:"#0099cc",headerBgColor:"#00B0F0",pattern:"water",label:"Watergeneration"},default:{primaryColor:"#1800ad",secondaryColor:"#12007d",headerBgColor:"#1800ad",pattern:"default",label:"Baynunah Group"}};function ne(a){if(!a)return S.default;const n=a.toLowerCase();return n.includes("agriculture")?S.agriculture:n.includes("water")?S.water:S.default}function le(a){return ne(a).primaryColor}function re({action:a,entityColor:n="#00B0F0",passColor:l="#1800ad"}){return e.jsxs("div",{className:"mb-4",children:[e.jsx("p",{className:"text-[10px] uppercase tracking-widest text-slate-400 font-bold mb-2.5",children:"Next Action"}),a?e.jsxs("button",{onClick:a.onClick,disabled:a.loading,className:"w-full p-4 rounded-2xl border border-white/30 hover:shadow-lg transition-all duration-300 shadow-sm flex items-center gap-3 text-left group disabled:opacity-60 relative overflow-hidden backdrop-blur-sm",style:{backgroundColor:"rgba(24, 0, 173, 0.04)"},children:[e.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-1 rounded-l-2xl transition-colors",style:{backgroundColor:l}}),e.jsx("div",{className:"relative w-11 h-11 rounded-xl flex items-center justify-center transition-all duration-300 group-hover:scale-105 border border-white/30",style:{backgroundColor:"rgba(24, 0, 173, 0.08)"},children:e.jsx("svg",{className:"w-5 h-5 group-hover:translate-x-0.5 transition-transform duration-300",fill:"none",viewBox:"0 0 24 24",stroke:l,strokeWidth:2.5,children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 5l7 7-7 7"})})}),e.jsxs("div",{className:"flex-1 relative z-10",children:[e.jsx("span",{className:"text-sm font-bold text-slate-800 block",children:a.label}),a.description&&e.jsx("span",{className:"text-[11px] text-slate-500",children:a.description})]}),a.loading?e.jsx("div",{className:"w-5 h-5 border-2 border-slate-200 rounded-full animate-spin",style:{borderTopColor:l}}):e.jsx("svg",{className:"w-4 h-4 text-slate-300 group-hover:text-slate-400 transition-colors",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 5l7 7-7 7"})})]}):e.jsxs("div",{className:"p-4 rounded-2xl border border-white/30 shadow-sm flex items-center gap-3 relative overflow-hidden backdrop-blur-sm",style:{backgroundColor:"rgba(24, 0, 173, 0.04)"},children:[e.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-1 rounded-l-2xl bg-emerald-400"}),e.jsx("div",{className:"w-11 h-11 rounded-xl flex items-center justify-center bg-emerald-50 border border-emerald-100",children:e.jsx("svg",{className:"w-5 h-5 text-emerald-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2.5,children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("span",{className:"text-sm font-bold text-slate-800 block",children:"You're all caught up!"}),e.jsx("span",{className:"text-[11px] text-slate-500",children:"No pending actions at the moment"})]})]})]})}function oe({stages:a,currentStageIndex:n,entityColor:l,viewType:t="candidate"}){return e.jsx("div",{className:"py-4 px-2",children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute top-5 left-6 right-6 h-0.5 bg-gradient-to-r from-slate-200 via-slate-200 to-slate-200 z-0 rounded-full"}),e.jsx("div",{className:"absolute top-5 left-6 h-0.5 z-10 transition-all duration-700 ease-out rounded-full",style:{width:n===0?"0%":`calc(${n/(a.length-1)*100}% - 24px)`,background:`linear-gradient(90deg, ${l} 0%, ${l}cc 100%)`,boxShadow:`0 0 8px ${l}40`}}),e.jsx("div",{className:"relative flex justify-between",children:a.map((d,f)=>{const h=f<n,o=f===n,c=t==="candidate"?d.candidateLabel||d.label:d.managerLabel||d.label;return e.jsxs("div",{className:"flex flex-col items-center z-20 flex-1",children:[e.jsxs("div",{className:"relative",children:[o&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"absolute inset-0 rounded-full animate-ping opacity-30",style:{backgroundColor:l}}),e.jsx("div",{className:"absolute -inset-1 rounded-full opacity-20 blur-sm",style:{backgroundColor:l}})]}),e.jsx("div",{className:`relative w-10 h-10 rounded-full flex items-center justify-center transition-all duration-300 border-2 ${h||o?"text-white border-transparent":"bg-white text-slate-400 border-slate-200 hover:border-slate-300"}`,style:h||o?{backgroundColor:l,boxShadow:o?`0 6px 20px ${l}50, 0 0 0 4px ${l}15`:`0 2px 8px ${l}30`}:{},children:h?e.jsx("svg",{className:"w-5 h-5 drop-shadow-sm",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2.5,children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})}):o?e.jsx("svg",{className:"w-4 h-4 drop-shadow-sm",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:d.icon})}):e.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 11-18 0 9 9 0 0118 0z"})})})]}),e.jsx("span",{className:`text-[9px] mt-2.5 font-medium text-center leading-tight max-w-[60px] transition-all duration-300 ${o?"font-bold scale-105":""}`,style:{color:o?l:h?"#334155":"#94a3b8"},children:c})]},d.key)})})]})})}function ie({activities:a,loading:n,collapsed:l=!0,entityColor:t="#1800ad"}){const[d,f]=p.useState(!l),h=c=>{const b=new Date(c),m=new Date().getTime()-b.getTime(),k=Math.floor(m/(1e3*60*60*24)),g=Math.floor(m/(1e3*60*60)),j=Math.floor(m/(1e3*60));return k>0?`${k}d ago`:g>0?`${g}h ago`:j>0?`${j}m ago`:"Just now"},o=c=>{const b={profile_completed:{path:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z",color:"#10b981"},document_uploaded:{path:"M9 13h6m-3-3v6m5 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z",color:"#3b82f6"},stage_changed:{path:"M13 7l5 5m0 0l-5 5m5-5H6",color:t},interview_scheduled:{path:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z",color:"#f59e0b"},interview_booked:{path:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z",color:"#10b981"},interview_confirmed:{path:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z",color:"#10b981"},default:{path:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z",color:"#64748b"}};return b[c]||b.default};return n?e.jsx("div",{className:"animate-pulse space-y-2",children:[1,2,3].map(c=>e.jsx("div",{className:"h-12 bg-slate-100 rounded-lg"},c))}):a.length===0?e.jsxs("div",{className:"text-center py-6",children:[e.jsx("div",{className:"w-10 h-10 bg-slate-50 rounded-full flex items-center justify-center mx-auto mb-2",children:e.jsx("svg",{className:"w-5 h-5 text-slate-300",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsx("p",{className:"text-xs text-slate-400",children:"No activity yet"})]}):e.jsxs("div",{className:"mt-4",children:[e.jsxs("button",{onClick:()=>f(!d),className:"w-full flex items-center justify-between py-2 group",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("p",{className:"text-[9px] uppercase tracking-widest text-slate-400 font-bold group-hover:text-slate-600 transition-colors",children:"Activity History"}),e.jsx("span",{className:"text-[9px] px-1.5 py-0.5 rounded-full bg-slate-100 text-slate-500 font-semibold",children:a.length})]}),e.jsx("svg",{className:`w-4 h-4 text-slate-400 transition-transform duration-200 ${d?"rotate-180":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),d&&e.jsxs("div",{className:"space-y-1.5 mt-2",children:[a.slice(0,5).map((c,b)=>{const x=o(c.action_type);return e.jsxs("div",{className:"flex items-start gap-3 p-3 bg-white rounded-xl border border-slate-100 shadow-sm hover:shadow-md transition-shadow relative overflow-hidden",children:[e.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-0.5",style:{backgroundColor:x.color}}),e.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center flex-shrink-0",style:{backgroundColor:`${x.color}10`},children:e.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:x.color,strokeWidth:2,children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:x.path})})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-[11px] text-slate-700 font-medium leading-tight",children:c.action_description}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsx("span",{className:"text-[9px] text-slate-400 capitalize",children:c.performed_by}),e.jsx("span",{className:"text-[9px] text-slate-300",children:"•"}),e.jsx("span",{className:"text-[9px] text-slate-400",children:h(c.timestamp)})]})]})]},c.id)}),a.length>5&&e.jsxs("button",{className:"w-full text-center text-[10px] font-semibold py-2.5 rounded-lg hover:bg-slate-50 transition-colors",style:{color:t},children:["View all ",a.length," activities →"]})]})]})}const T=[{key:"application",label:"Application",candidateLabel:"Application",managerLabel:"Request",icon:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"},{key:"screening",label:"Assessment",candidateLabel:"Shortlist",managerLabel:"Screening",icon:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"},{key:"interview",label:"Interview",candidateLabel:"Interview",managerLabel:"Interview",icon:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"},{key:"offer",label:"Offer",candidateLabel:"Offer",managerLabel:"Decision",icon:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"},{key:"onboarding",label:"Onboarding",candidateLabel:"Onboard",managerLabel:"Onboard",icon:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"}],z=T;function M(a){const n=a.toLowerCase();return n==="decision"?"offer":n}function de(a){return a.toLowerCase().replace(/[\s-]/g,"_")}const ce={application:[{key:"submitted",label:"Submitted",nextAction:"Validate application completeness",actionOwner:"HR"},{key:"incomplete",label:"Incomplete",nextAction:"Submit missing information",actionOwner:"Candidate"},{key:"validated",label:"Application Validated",nextAction:"Initiate screening",actionOwner:"HR"},{key:"withdrawn",label:"Withdrawn",nextAction:"Close application",actionOwner:"System"}],screening:[{key:"under_review",label:"Under Review",nextAction:"Complete screening",actionOwner:"HR"},{key:"shortlisted",label:"Shortlisted",nextAction:"Prepare interview",actionOwner:"HR"},{key:"not_shortlisted",label:"Not Shortlisted",nextAction:"Close candidate record",actionOwner:"System"},{key:"on_hold",label:"On Hold",nextAction:"Await decision",actionOwner:"HR"},{key:"assessment_required",label:"Assessment Required",nextAction:"Complete assessment",actionOwner:"Candidate"},{key:"assessment_sent",label:"Assessment Sent",nextAction:"Complete assessment",actionOwner:"Candidate"},{key:"assessment_completed",label:"Assessment Completed",nextAction:"Review results",actionOwner:"HR"},{key:"assessment_failed",label:"Assessment Failed",nextAction:"Review for rejection",actionOwner:"HR"},{key:"assessment_waived",label:"Assessment Waived",nextAction:"Proceed to interview",actionOwner:"HR",internalOnly:!0}],interview:[{key:"pending",label:"Interview Pending",nextAction:"Schedule interview",actionOwner:"HR"},{key:"slots_available",label:"Slots Available",nextAction:"Select interview slot",actionOwner:"Candidate"},{key:"scheduled",label:"Interview Scheduled",nextAction:"Confirm attendance",actionOwner:"Candidate"},{key:"confirmed",label:"Interview Confirmed",nextAction:"Attend interview",actionOwner:"Candidate"},{key:"completed",label:"Interview Completed",nextAction:"Await feedback",actionOwner:"HR"},{key:"cancelled",label:"Interview Cancelled",nextAction:"Reschedule interview",actionOwner:"HR"},{key:"no_show",label:"Interview No-Show",nextAction:"Close or reschedule",actionOwner:"HR"},{key:"assessment_required",label:"Assessment Required",nextAction:"Complete assessment",actionOwner:"Candidate"},{key:"assessment_sent",label:"Assessment Sent",nextAction:"Complete assessment",actionOwner:"Candidate"},{key:"assessment_completed",label:"Assessment Completed",nextAction:"Review results",actionOwner:"Manager"}],offer:[{key:"in_preparation",label:"Offer In Preparation",nextAction:"Await offer",actionOwner:"HR"},{key:"released",label:"Offer Released",nextAction:"Review and respond to offer",actionOwner:"Candidate"},{key:"accepted",label:"Offer Accepted",nextAction:"Initiate onboarding",actionOwner:"HR"},{key:"declined",label:"Offer Declined",nextAction:"Close candidate",actionOwner:"System"},{key:"negotiating",label:"Negotiating",nextAction:"Review revised terms",actionOwner:"Candidate"},{key:"expired",label:"Offer Expired",nextAction:"Close or re-offer",actionOwner:"HR"},{key:"withdrawn",label:"Offer Withdrawn",nextAction:"Close candidate",actionOwner:"System"}],onboarding:[{key:"initiated",label:"Onboarding Initiated",nextAction:"Submit onboarding documents",actionOwner:"Candidate"},{key:"documents_pending",label:"Documents Pending",nextAction:"Upload required documents",actionOwner:"Candidate"},{key:"documents_submitted",label:"Documents Submitted",nextAction:"Verify documents",actionOwner:"HR"},{key:"pre_joining",label:"Pre-Joining In Progress",nextAction:"Complete pre-joining tasks",actionOwner:"Candidate"},{key:"joining_confirmed",label:"Joining Confirmed",nextAction:"Prepare for Day 1",actionOwner:"HR"},{key:"completed",label:"Onboarding Completed",nextAction:"Convert to employee",actionOwner:"HR"},{key:"no_show",label:"No Show",nextAction:"Close candidate",actionOwner:"System"}]},xe={application:[{key:"raised",label:"Request Raised",nextAction:"Review & approve request",actionOwner:"Manager"},{key:"approved",label:"Request Approved",nextAction:"Open application intake",actionOwner:"HR"},{key:"on_hold",label:"Request On Hold",nextAction:"Monitor / await decision",actionOwner:"Manager"},{key:"cancelled",label:"Request Cancelled",nextAction:"Close request",actionOwner:"System"}],screening:[{key:"in_progress",label:"Screening In Progress",nextAction:"Review candidate profile",actionOwner:"Manager"},{key:"shortlisted",label:"Shortlisted",nextAction:"Confirm interview intent",actionOwner:"Manager"},{key:"rejected",label:"Rejected at Screening",nextAction:"Close candidate",actionOwner:"HR"},{key:"on_hold",label:"Screening On Hold",nextAction:"Reassess later",actionOwner:"Manager"}],interview:[{key:"pending",label:"Interview Pending",nextAction:"Provide availability",actionOwner:"Manager"},{key:"slots_provided",label:"Slots Provided",nextAction:"Await candidate selection",actionOwner:"System"},{key:"scheduled",label:"Interview Scheduled",nextAction:"Conduct interview",actionOwner:"Manager"},{key:"completed",label:"Interview Completed",nextAction:"Submit feedback",actionOwner:"Manager"},{key:"feedback_pending",label:"Feedback Pending",nextAction:"Submit evaluation",actionOwner:"Manager"},{key:"additional_required",label:"Additional Interview Required",nextAction:"Schedule next round",actionOwner:"HR"},{key:"cancelled",label:"Interview Cancelled",nextAction:"Reschedule or close",actionOwner:"HR"}],offer:[{key:"pending",label:"Decision Pending",nextAction:"Make hire/no-hire decision",actionOwner:"Manager"},{key:"approved",label:"Approved for Offer",nextAction:"Prepare offer letter",actionOwner:"HR"},{key:"not_approved",label:"Not Approved",nextAction:"Close candidate",actionOwner:"HR"},{key:"released",label:"Offer Released",nextAction:"Await candidate response",actionOwner:"System"},{key:"accepted",label:"Offer Accepted",nextAction:"Initiate onboarding",actionOwner:"HR"},{key:"declined",label:"Offer Declined by Candidate",nextAction:"Review pipeline",actionOwner:"Manager"}],onboarding:[{key:"initiated",label:"Onboarding Initiated",nextAction:"Monitor progress",actionOwner:"Manager"},{key:"documentation",label:"Documentation In Progress",nextAction:"Await completion",actionOwner:"System"},{key:"joining_confirmed",label:"Joining Confirmed",nextAction:"Prepare workspace",actionOwner:"Manager"},{key:"completed",label:"Onboarding Completed",nextAction:"Close recruitment pass",actionOwner:"HR"},{key:"failed",label:"Onboarding Failed",nextAction:"Review and close",actionOwner:"HR"}]};function me(a,n){const l=M(n),t=a.findIndex(d=>d.key===l);return t>=0?t:0}function he(a,n){const l=M(a),t=T.find(d=>d.key===l);return t?n==="candidate"?t.candidateLabel||t.label:t.managerLabel||t.label:a}function ue(a,n,l="candidate"){const t=M(a),d=de(n),h=(l==="candidate"?ce:xe)[t];if(h){const o=h.find(c=>c.key===d);if(o)return l==="candidate"&&o.internalOnly?"In Progress":o.label}return n.replace(/_/g," ").replace(/\b\w/g,o=>o.toUpperCase())}const pe=[{id:"home",label:"Home",icon:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"},{id:"documents",label:"Documents",icon:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"},{id:"calendar",label:"Calendar",icon:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"},{id:"engage",label:"Engage",icon:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"}],be=["Abu Dhabi","Dubai","Sharjah","Ajman","Umm Al Quwain","Ras Al Khaimah","Fujairah","Al Ain","Other UAE","Outside UAE"],fe=["Residence Visa","Visit Visa","Employment Visa","Tourist Visa","Golden Visa","Student Visa","Freelance Visa","No Visa Required","Other"],ge=["Immediate","1 Week","2 Weeks","1 Month","2 Months","3 Months","Other"];function ve({candidateId:a,token:n,onBack:l}){const[t,d]=p.useState(null),[f,h]=p.useState(!0),[o,c]=p.useState(null),[b,x]=p.useState("home"),[m,k]=p.useState(null),[g,j]=p.useState(!1),[P,O]=p.useState(!1),[V,y]=p.useState(!1),[r,w]=p.useState({phone:"",email:"",location:"",visa_status:"",notice_period:"",expected_salary:"",confirmed:!1}),[A,L]=p.useState(!1),_="/api",D=()=>t?`${window.location.origin}/candidate-profile/${t.candidate_id}?token=${t.pass_token}`:"",W=()=>le(t?.entity||""),F=()=>t?.entity?t.entity.includes("Agriculture")?"Agriculture Division":t.entity.includes("Water")?"Watergeneration":t.entity:"Baynunah Group";p.useEffect(()=>{N()},[a]);const N=async()=>{try{h(!0);const s=await fetch(`${_}/interview/pass/candidate/${a}`,{headers:{Authorization:`Bearer ${n}`}});if(!s.ok)throw new Error("Failed to load pass data");const u=await s.json();d(u)}catch(s){c(s instanceof Error?s.message:"Failed to load pass")}finally{h(!1)}},q=async()=>{if(!(!m||!t)){j(!0);try{const s=await fetch(`${_}/interview/slots/book`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${n}`},body:JSON.stringify({slot_id:m,candidate_id:t.candidate_id})});if(!s.ok){const u=await s.json().catch(()=>({}));if(s.status===409){alert(u.detail||"This slot is no longer available. Please select another time."),await N(),k(null);return}throw new Error(u.detail||"Failed to book slot")}await N(),k(null)}catch(s){alert(s instanceof Error?s.message:"Booking failed")}finally{j(!1)}}},R=async()=>{if(t?.booked_slot){j(!0);try{if(!(await fetch(`${_}/interview/slots/confirm?candidate_id=${t.candidate_id}`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${n}`},body:JSON.stringify({slot_id:t.booked_slot.id})})).ok)throw new Error("Failed to confirm slot");await N()}catch(s){alert(s instanceof Error?s.message:"Confirmation failed")}finally{j(!1)}}},U=()=>{if(t){const s={0:"Immediate",7:"1 Week",14:"2 Weeks",30:"1 Month",60:"2 Months",90:"3 Months"};w({phone:t.phone||"",email:t.email||"",location:t.current_location||"",visa_status:t.visa_status||"",notice_period:t.notice_period_days!==void 0?s[t.notice_period_days]||"Other":"",expected_salary:t.expected_salary?.toString()||"",confirmed:t.details_confirmed||!1})}y(!0)},G=async()=>{if(!(!t||!r.confirmed)){L(!0);try{const s={Immediate:0,"1 Week":7,"2 Weeks":14,"1 Month":30,"2 Months":60,"3 Months":90,Other:30};if(!(await fetch(`${_}/recruitment/candidates/${t.candidate_id}/self-service-update`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({pass_token:t.pass_token,phone:r.phone,email:r.email,current_location:r.location,visa_status:r.visa_status,notice_period_days:s[r.notice_period]??30,expected_salary:parseFloat(r.expected_salary)||null,details_confirmed:!0})})).ok)throw new Error("Failed to save details");await N(),y(!1)}catch(s){alert(s instanceof Error?s.message:"Failed to save details")}finally{L(!1)}}};if(f)return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-100",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-10 h-10 border-2 border-slate-300 border-t-slate-600 rounded-full animate-spin mx-auto mb-3"}),e.jsx("p",{className:"text-slate-500 text-sm",children:"Loading..."})]})});if(o||!t)return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-100",children:e.jsxs("div",{className:"bg-white border border-slate-200 shadow-lg rounded-2xl p-6 max-w-sm text-center",children:[e.jsx("div",{className:"w-12 h-12 bg-red-50 rounded-full flex items-center justify-center mx-auto mb-3",children:e.jsx("svg",{className:"w-6 h-6 text-red-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),e.jsx("h2",{className:"text-base font-medium text-slate-800 mb-1",children:"Access Error"}),e.jsx("p",{className:"text-sm text-slate-500",children:o||"Unable to load pass"}),l&&e.jsx("button",{onClick:l,className:"mt-4 px-4 py-2 text-sm text-slate-600 hover:bg-slate-100 rounded-lg transition-colors",children:"Go Back"})]})});const J=me(z,t.current_stage),C=t.next_actions.length>0?t.next_actions[0]:null,Q=()=>{if(C)switch(C.action_id){case"complete_profile":U();break;case"upload_documents":case"review_offer":x("documents");break;case"book_interview":x("calendar");break;case"confirm_interview":R();break}},Y=C?{label:C.label,description:C.type==="required"?"Required action":"Recommended",onClick:Q,loading:g}:null,B=t.activity_history.map(s=>({id:s.id,action_type:s.action_type,action_description:s.action_description,performed_by:s.performed_by,timestamp:s.timestamp,stage:s.stage})),i=W(),K=()=>e.jsxs("div",{className:"flex-shrink-0 relative",children:[e.jsx("div",{className:"px-4 pt-4 pb-6",style:{backgroundColor:i},children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{children:e.jsx("p",{className:"text-xs font-bold uppercase tracking-wider text-white",children:"Candidate Pass"})}),e.jsx("img",{src:"/assets/logo-white.png",alt:"Baynunah",className:"h-5 opacity-90",style:{filter:"brightness(0) invert(1)"}})]})}),e.jsx("div",{className:"px-4 -mt-3",children:e.jsxs("div",{className:"rounded-2xl border border-white/20 shadow-lg p-4 relative overflow-hidden backdrop-blur-sm",style:{backgroundColor:`${i}08`},children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-[11px] text-slate-500 mb-0.5",children:t.full_name}),e.jsx("p",{className:"text-[10px] font-mono text-slate-400 mb-2",children:t.candidate_number}),e.jsx("h2",{className:"text-lg font-black text-slate-900 leading-tight",children:t.position_title}),e.jsx("p",{className:"text-sm font-medium text-slate-600",children:t.department||"General"}),t.recruitment_request_number&&e.jsxs("p",{className:"text-[10px] text-slate-400 mt-1",children:["Req: ",e.jsx("span",{className:"font-mono",children:t.recruitment_request_number})]})]}),e.jsxs("div",{onClick:()=>O(!0),className:"flex-shrink-0 relative p-2 bg-white/80 rounded-xl cursor-pointer hover:shadow-lg transition-all duration-300 hover:scale-105 group border border-white/30",children:[e.jsx(I,{value:D(),size:60,level:"H",fgColor:i}),e.jsx("p",{className:"text-[7px] text-center text-slate-400 mt-1",children:"View Profile"})]})]}),e.jsxs("div",{className:"flex gap-6 mt-4 pt-3 border-t border-slate-200/50",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:i}}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[9px] uppercase tracking-wider text-slate-400 font-semibold",children:"Stage"}),e.jsx("p",{className:"text-xs font-bold text-slate-800",children:he(t.current_stage,"candidate")})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[9px] uppercase tracking-wider text-slate-400 font-semibold",children:"Status"}),e.jsx("p",{className:"text-xs font-bold text-slate-800",children:ue(t.current_stage,t.status,"candidate")})]})]})]}),e.jsx("div",{className:"absolute top-3 right-3",children:e.jsxs("div",{className:"flex items-center gap-1.5 px-2 py-1 bg-emerald-50/80 rounded-full",children:[e.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-emerald-500 animate-pulse"}),e.jsx("span",{className:"text-[9px] font-bold text-emerald-600 uppercase",children:"Active"})]})})]})}),t.unread_messages>0&&e.jsx("div",{className:"absolute top-3 right-14",children:e.jsxs("div",{className:"relative",children:[e.jsx("svg",{className:"w-5 h-5 text-white/80",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})}),e.jsx("span",{className:"absolute -top-1 -right-1 w-4 h-4 bg-red-500 rounded-full text-[8px] font-bold text-white flex items-center justify-center",children:t.unread_messages})]})})]}),X=()=>e.jsx(oe,{stages:z,currentStageIndex:J,entityColor:i,viewType:"candidate"}),Z=()=>b==="home"?e.jsx(re,{action:Y,entityColor:i}):null,ee=()=>{switch(b){case"home":return e.jsx("div",{className:"space-y-3",children:B.length>0&&e.jsx(ie,{activities:B})});case"documents":return e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-semibold text-slate-800",children:"Documents"}),e.jsx("p",{className:"text-[10px] text-slate-400",children:"Upload and view documents"})]})}),e.jsxs("div",{className:"rounded-xl border-2 border-dashed border-slate-200 p-5 text-center bg-slate-50/50",children:[e.jsx("div",{className:"w-10 h-10 bg-white rounded-xl flex items-center justify-center mx-auto mb-2 shadow-sm border border-slate-100",children:e.jsx("svg",{className:"w-5 h-5 text-slate-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5m-13.5-9L12 3m0 0l4.5 4.5M12 3v13.5"})})}),e.jsx("p",{className:"text-xs font-medium text-slate-600 mb-0.5",children:"Upload Documents"}),e.jsx("p",{className:"text-[10px] text-slate-400 mb-2",children:"Drag & drop or click to browse"}),e.jsx("button",{className:"px-4 py-2 text-xs font-semibold rounded-lg text-white transition-colors",style:{backgroundColor:i},children:"Choose File"})]}),e.jsxs("div",{className:"rounded-xl bg-white p-3 border border-slate-100 shadow-sm",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[e.jsx("span",{className:"text-xs font-medium text-slate-700",children:"Welcome Message"}),e.jsx("span",{className:"text-[9px] text-slate-400",children:"Today"})]}),e.jsx("p",{className:"text-[11px] text-slate-500 leading-relaxed",children:"Thank you for your application. We're excited to review your profile!"})]})]});case"calendar":return e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"bg-white rounded-xl p-4 border border-slate-100 shadow-sm",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h4",{className:"text-sm font-semibold text-slate-800",children:new Date().toLocaleDateString("en-US",{month:"long",year:"numeric"})}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{className:"p-1.5 hover:bg-slate-100 rounded-lg transition-colors",children:e.jsx("svg",{className:"w-4 h-4 text-slate-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),e.jsx("button",{className:"p-1.5 hover:bg-slate-100 rounded-lg transition-colors",children:e.jsx("svg",{className:"w-4 h-4 text-slate-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]})]}),e.jsx("div",{className:"grid grid-cols-7 gap-1 text-center mb-2",children:["S","M","T","W","T","F","S"].map((s,u)=>e.jsx("div",{className:"text-[10px] text-slate-400 font-semibold py-1",children:s},u))}),e.jsx("div",{className:"grid grid-cols-7 gap-1 text-center",children:Array.from({length:35},(s,u)=>{const v=u-new Date(new Date().getFullYear(),new Date().getMonth(),1).getDay()+1,E=new Date(new Date().getFullYear(),new Date().getMonth()+1,0).getDate(),te=v===new Date().getDate(),H=t.interview_slots.some(se=>new Date(se.slot_date).getDate()===v),$=t.booked_slot&&new Date(t.booked_slot.slot_date).getDate()===v;return e.jsx("div",{className:`text-xs py-2 rounded-lg cursor-pointer transition-colors ${$?"text-white font-bold":H?"font-medium":te?"bg-slate-100 font-semibold text-slate-800":v>0&&v<=E?"text-slate-600 hover:bg-slate-50":"text-slate-200"}`,style:$?{backgroundColor:i}:H?{backgroundColor:`${i}20`,color:i}:{},children:v>0&&v<=E?v:""},u)})}),e.jsxs("div",{className:"flex items-center gap-4 mt-4 pt-3 border-t border-slate-100",children:[e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:`${i}40`}}),e.jsx("span",{className:"text-[10px] text-slate-500",children:"Available"})]}),e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:i}}),e.jsx("span",{className:"text-[10px] text-slate-500",children:"Booked"})]})]})]}),t.booked_slot?e.jsxs("div",{className:"rounded-xl p-4 border",style:{backgroundColor:`${i}10`,borderColor:`${i}30`},children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center",style:{backgroundColor:i},children:e.jsx("svg",{className:"w-4 h-4 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2.5,children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})})}),e.jsx("span",{className:"text-sm font-bold",style:{color:i},children:t.booked_slot.candidate_confirmed?"Interview Confirmed":"Interview Booked"})]}),e.jsx("p",{className:"text-sm font-medium text-slate-700",children:new Date(t.booked_slot.slot_date).toLocaleDateString("en-GB",{weekday:"long",day:"numeric",month:"long"})}),e.jsxs("p",{className:"text-xs text-slate-500",children:[t.booked_slot.start_time.substring(0,5)," - ",t.booked_slot.end_time.substring(0,5)]}),!t.booked_slot.candidate_confirmed&&e.jsx("button",{onClick:R,disabled:g,className:"mt-3 w-full py-2.5 text-white text-xs font-semibold rounded-lg transition-colors disabled:opacity-50",style:{backgroundColor:i},children:g?"Confirming...":"Confirm Attendance"})]}):t.interview_slots.length>0?e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-xs font-semibold text-slate-700",children:"Available Slots"}),t.interview_slots.slice(0,4).map(s=>e.jsxs("button",{onClick:()=>k(s.id),className:`w-full p-3 rounded-xl text-left transition-all border ${m===s.id?"border-2 shadow-sm":"border-slate-100 bg-white hover:border-slate-200"}`,style:m===s.id?{borderColor:i,backgroundColor:`${i}08`}:{},children:[e.jsx("p",{className:"text-xs font-medium text-slate-800",children:new Date(s.slot_date).toLocaleDateString("en-GB",{weekday:"short",day:"numeric",month:"short"})}),e.jsxs("p",{className:"text-[11px] text-slate-500",children:[s.start_time.substring(0,5)," - ",s.end_time.substring(0,5)]})]},s.id)),e.jsx("button",{onClick:q,disabled:!m||g,className:"w-full py-2.5 text-white text-xs font-semibold rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",style:{backgroundColor:m?i:"#94a3b8"},children:g?"Booking...":"Book Selected Slot"})]}):e.jsx("div",{className:"rounded-xl bg-slate-50 p-4 text-center",children:e.jsx("p",{className:"text-xs text-slate-500",children:"No interview slots available yet"})})]});case"engage":return e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-semibold text-slate-800",children:"Contact HR"}),e.jsx("p",{className:"text-[10px] text-slate-400",children:"Get in touch with us"})]})}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("a",{href:`https://wa.me/${t.hr_whatsapp?.replace(/\D/g,"")}`,target:"_blank",rel:"noopener noreferrer",className:"flex flex-col items-center gap-2 p-4 rounded-xl bg-emerald-50 border border-emerald-100 hover:bg-emerald-100 transition-colors",children:[e.jsx("div",{className:"w-10 h-10 bg-emerald-500 rounded-full flex items-center justify-center",children:e.jsx("svg",{className:"w-5 h-5 text-white",viewBox:"0 0 24 24",fill:"currentColor",children:e.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"})})}),e.jsx("span",{className:"text-xs font-semibold text-emerald-700",children:"WhatsApp"})]}),e.jsxs("a",{href:`mailto:${t.hr_email}`,className:"flex flex-col items-center gap-2 p-4 rounded-xl bg-blue-50 border border-blue-100 hover:bg-blue-100 transition-colors",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-500 rounded-full flex items-center justify-center",children:e.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 6.75v10.5a2.25 2.25 0 01-2.25 2.25h-15a2.25 2.25 0 01-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0019.5 4.5h-15a2.25 2.25 0 00-2.25 2.25m19.5 0v.243a2.25 2.25 0 01-1.07 1.916l-7.5 4.615a2.25 2.25 0 01-2.36 0L3.32 8.91a2.25 2.25 0 01-1.07-1.916V6.75"})})}),e.jsx("span",{className:"text-xs font-semibold text-blue-700",children:"Email"})]})]}),e.jsxs("div",{className:"rounded-xl bg-slate-50 p-4",children:[e.jsx("p",{className:"text-xs font-medium text-slate-700 mb-1",children:"HR Contact"}),e.jsx("p",{className:"text-[11px] text-slate-500",children:t.hr_email}),t.hr_whatsapp&&e.jsx("p",{className:"text-[11px] text-slate-500",children:t.hr_whatsapp})]})]});default:return null}};return e.jsxs(e.Fragment,{children:[e.jsx(ae,{entityColor:i,entityName:F(),passType:"candidate",header:K(),journey:X(),actionRequired:Z(),tabs:pe,activeTab:b,onTabChange:s=>x(s),children:ee()}),P&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",onClick:()=>O(!1),children:e.jsxs("div",{className:"bg-white rounded-2xl p-6 max-w-sm w-full text-center",onClick:s=>s.stopPropagation(),children:[e.jsx("h3",{className:"text-lg font-bold text-slate-800 mb-4",children:"Scan QR Code"}),e.jsx("div",{className:"inline-block p-4 bg-white rounded-xl border-2 mb-4",style:{borderColor:i},children:e.jsx(I,{value:D(),size:200,level:"H",fgColor:i})}),e.jsx("p",{className:"text-sm text-slate-500 mb-4",children:"Scan to view candidate profile"}),e.jsx("button",{onClick:()=>O(!1),className:"px-6 py-2 text-sm font-medium text-slate-600 hover:bg-slate-100 rounded-lg transition-colors",children:"Close"})]})}),V&&e.jsx("div",{className:"fixed inset-0 bg-slate-900/40 backdrop-blur-sm flex items-center justify-center z-50 p-4",onClick:()=>y(!1),children:e.jsxs("div",{className:"bg-white rounded-3xl w-full max-w-md max-h-[90vh] overflow-hidden",style:{boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.15), 0 0 0 1px rgba(0, 0, 0, 0.05)"},onClick:s=>s.stopPropagation(),children:[e.jsxs("div",{className:"px-6 pt-6 pb-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center",style:{backgroundColor:"#2EB67D15"},children:e.jsx("svg",{className:"w-4 h-4",style:{color:"#2EB67D"},fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),e.jsx("h3",{className:"text-lg font-semibold text-slate-800",children:"Your Details"})]}),e.jsx("button",{onClick:()=>y(!1),className:"w-8 h-8 flex items-center justify-center rounded-full hover:bg-slate-100 text-slate-400 hover:text-slate-600 transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsx("p",{className:"text-sm text-slate-500 ml-10",children:"Please verify your information below"})]}),e.jsxs("div",{className:"px-6 py-4 overflow-y-auto max-h-[calc(90vh-200px)] space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-slate-500 mb-1.5 uppercase tracking-wide",children:"Phone"}),e.jsx("input",{type:"tel",value:r.phone,onChange:s=>w({...r,phone:s.target.value}),placeholder:"+971 50 000 0000",className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl text-slate-800 placeholder-slate-400 focus:outline-none focus:ring-2 focus:bg-white transition-all",style:{"--tw-ring-color":"#2EB67D40"}})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-slate-500 mb-1.5 uppercase tracking-wide",children:"Email"}),e.jsx("input",{type:"email",value:r.email,onChange:s=>w({...r,email:s.target.value}),placeholder:"email@example.com",className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl text-slate-800 placeholder-slate-400 focus:outline-none focus:ring-2 focus:bg-white transition-all",style:{"--tw-ring-color":"#2EB67D40"}})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-slate-500 mb-1.5 uppercase tracking-wide",children:"Location"}),e.jsxs("div",{className:"relative",children:[e.jsxs("select",{value:r.location,onChange:s=>w({...r,location:s.target.value}),className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl text-slate-800 appearance-none focus:outline-none focus:ring-2 focus:bg-white transition-all cursor-pointer",style:{"--tw-ring-color":"#2EB67D40"},children:[e.jsx("option",{value:"",children:"Select location"}),be.map(s=>e.jsx("option",{value:s,children:s},s))]}),e.jsx("svg",{className:"absolute right-4 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400 pointer-events-none",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-slate-500 mb-1.5 uppercase tracking-wide",children:"Visa Status"}),e.jsxs("select",{value:r.visa_status,onChange:s=>w({...r,visa_status:s.target.value}),className:"w-full px-3 py-3 bg-slate-50 border border-slate-200 rounded-xl text-slate-800 text-sm appearance-none focus:outline-none focus:ring-2 focus:bg-white transition-all cursor-pointer",style:{"--tw-ring-color":"#2EB67D40"},children:[e.jsx("option",{value:"",children:"Select"}),fe.map(s=>e.jsx("option",{value:s,children:s},s))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-slate-500 mb-1.5 uppercase tracking-wide",children:"Notice Period"}),e.jsxs("select",{value:r.notice_period,onChange:s=>w({...r,notice_period:s.target.value}),className:"w-full px-3 py-3 bg-slate-50 border border-slate-200 rounded-xl text-slate-800 text-sm appearance-none focus:outline-none focus:ring-2 focus:bg-white transition-all cursor-pointer",style:{"--tw-ring-color":"#2EB67D40"},children:[e.jsx("option",{value:"",children:"Select"}),ge.map(s=>e.jsx("option",{value:s,children:s},s))]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-slate-500 mb-1.5 uppercase tracking-wide",children:"Expected Salary"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",value:r.expected_salary,onChange:s=>{const u=s.target.value.replace(/[^0-9]/g,"");w({...r,expected_salary:u})},placeholder:"15,000",className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl text-slate-800 placeholder-slate-400 focus:outline-none focus:ring-2 focus:bg-white transition-all",style:{"--tw-ring-color":"#2EB67D40"}}),e.jsx("span",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-slate-400 text-sm font-medium",children:"AED"})]})]}),e.jsx("div",{className:"pt-3",children:e.jsxs("label",{className:"flex items-start gap-3 cursor-pointer group",children:[e.jsxs("div",{className:"relative mt-0.5",children:[e.jsx("input",{type:"checkbox",checked:r.confirmed,onChange:s=>w({...r,confirmed:s.target.checked}),className:"sr-only"}),e.jsx("div",{className:`w-5 h-5 rounded-md border-2 flex items-center justify-center transition-all ${r.confirmed?"":"border-slate-300 group-hover:border-slate-400"}`,style:r.confirmed?{backgroundColor:"#2EB67D",borderColor:"#2EB67D"}:{},children:r.confirmed&&e.jsx("svg",{className:"w-3 h-3 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:3,children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})})})]}),e.jsx("span",{className:"text-sm text-slate-600 leading-tight",children:"I confirm that the details provided are correct"})]})})]}),e.jsxs("div",{className:"px-6 py-5 border-t border-slate-100 flex gap-3",children:[e.jsx("button",{onClick:()=>y(!1),className:"flex-1 px-4 py-3 bg-slate-100 hover:bg-slate-200 text-slate-600 rounded-xl font-medium transition-colors",children:"Cancel"}),e.jsx("button",{onClick:G,disabled:!r.confirmed||A,className:`flex-1 px-4 py-3 rounded-xl font-medium transition-all flex items-center justify-center gap-2 ${r.confirmed&&!A?"text-white":"bg-slate-100 text-slate-400 cursor-not-allowed"}`,style:r.confirmed&&!A?{backgroundColor:"#2EB67D",boxShadow:"0 4px 14px rgba(46, 182, 125, 0.3)"}:{},children:A?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Saving..."]}):e.jsxs(e.Fragment,{children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Confirm & Save"]})})]})]})})]})}export{ie as A,ae as B,ve as C,oe as J,T as U,le as a,re as b,he as c,ue as d,me as g};
